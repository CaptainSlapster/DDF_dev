#
# This is the master for the on_actions associated with DDF
#

on_game_start_after_lobby = { #This is just incase all characters weren't caught
	on_actions = {
		apply_sickle_cell ##Apply sickle cell trait to certain cultures
		launch_intro_event
	}
}

launch_intro_event = {
	effect = {
		every_player = {
			trigger_event = ddf_update.0001
		}
	}
}

apply_sickle_cell = {
	trigger = {NOT = {has_global_variable = AGOT_is_loaded}}
	effect = {
		every_living_character = {
			limit = {
				AND = {
					NOT = {
						has_trait = sickle_cell
					}
					sickle_cell_culture_trigger = yes
				}
			}
			trigger_event = ddf_health.0018	
		}
	}
}

#Quarterly pulse
quarterly_playable_pulse = {
	on_actions = {
		ddf_quarterly_trait_check_pulse #Trait pulse		
	}
}

random_yearly_everyone_pulse = {
    on_actions = {
        ddf_yearly_health_pulse #Health issue pulse
        ddf_prison_maintenance_pulse #Prison pulse
    }    
}

five_year_everyone_pulse = {
    on_actions = {
        ddf_disease_outbreak_pulse #DDF disease outbreaks. 
	}
}
