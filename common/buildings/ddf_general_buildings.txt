#
# This mod isn't meant to add many buildings.
# This does give players a chance to improve their economy
# While (un)knowingly leaving themselves suseptable >:)
#
##############################
# General Buildings #
##############################

# Pesthouse <- Plague doctor stuff

#Might make it only 1 level
pesthouse_01 = {
	construction_time = standard_construction_time

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 01 }
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = normal_building_tier_1_cost
	
	character_modifier = {
		monthly_piety = 0.15
	}
	county_modifier = {
		epidemic_resistance = 15
	}
	
	next_building = pesthouse_02

	type_icon = "icon_building_plague_doctor.dds"
	
	ai_value = {
		base = 7
		ai_tier_1_building_modifier = yes
		ai_tier_1_economical_building_preference_modifier = yes
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		modifier = {
			add = 1
			county.development_level >= 10
		}
		modifier = {
			add = 1
			county.development_level >= 15
		}
		modifier = {
			add = 1
			county.development_level >= 20
		}
		modifier = {
			add = 1
			county.development_level >= 25
		}
		modifier = {
			add = 10
			scope:holder = {
				OR = {
					government_has_flag = government_is_theocracy
					is_theocratic_lessee = yes
				}
			}
		}
		modifier = {
			factor = 0
			building_farm_estates_requirement_terrain = yes
			NOT = {
				has_building_or_higher = farm_estates_01
			}
		}
		modifier = {
			factor = 0
			building_cereal_fields_requirement_terrain = yes
			NOT = {
				has_building_or_higher = cereal_fields_01
			}
		}
	}

}
pesthouse_02 = {
	construction_time = standard_construction_time

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 01 }
		culture = {
			has_innovation = innovation_city_planning
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = normal_building_tier_2_cost
	
	character_modifier = {
		monthly_piety = 0.25
	}
	county_modifier = {
		epidemic_resistance = 30
	}
		next_building = pesthouse_03

	type_icon = "icon_building_plague_doctor.dds"
	
	ai_value = {
		base = 7
		ai_tier_1_building_modifier = yes
		ai_tier_1_economical_building_preference_modifier = yes
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		modifier = {
			add = 1
			county.development_level >= 10
		}
		modifier = {
			add = 1
			county.development_level >= 15
		}
		modifier = {
			add = 1
			county.development_level >= 20
		}
		modifier = {
			add = 1
			county.development_level >= 25
		}
		modifier = {
			add = 10
			scope:holder = {
				OR = {
					government_has_flag = government_is_theocracy
					is_theocratic_lessee = yes
				}
			}
		}
		modifier = {
			factor = 0
			building_farm_estates_requirement_terrain = yes
			NOT = {
				has_building_or_higher = farm_estates_01
			}
		}
		modifier = {
			factor = 0
			building_cereal_fields_requirement_terrain = yes
			NOT = {
				has_building_or_higher = cereal_fields_01
			}
		}
	}

}
pesthouse_03 = {
	construction_time = standard_construction_time

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 02 }
		culture = {
			has_innovation = innovation_manorialism
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = normal_building_tier_3_cost
	
	character_modifier = {
		monthly_piety = 0.35
	}
	county_modifier = {
		epidemic_resistance = 45
	}
	

	type_icon = "icon_building_plague_doctor.dds"
	
	ai_value = {
		base = 7
		ai_tier_1_building_modifier = yes
		ai_tier_1_economical_building_preference_modifier = yes
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		modifier = {
			add = 1
			county.development_level >= 10
		}
		modifier = {
			add = 1
			county.development_level >= 15
		}
		modifier = {
			add = 1
			county.development_level >= 20
		}
		modifier = {
			add = 1
			county.development_level >= 25
		}
		modifier = {
			add = 10
			scope:holder = {
				OR = {
					government_has_flag = government_is_theocracy
					is_theocratic_lessee = yes
				}
			}
		}
		modifier = {
			factor = 0
			building_farm_estates_requirement_terrain = yes
			NOT = {
				has_building_or_higher = farm_estates_01
			}
		}
		modifier = {
			factor = 0
			building_cereal_fields_requirement_terrain = yes
			NOT = {
				has_building_or_higher = cereal_fields_01
			}
		}
	}

}