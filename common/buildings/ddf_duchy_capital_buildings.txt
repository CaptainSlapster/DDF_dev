#
#
#
#

#Vanilla overwrites
#
#


military_academy_01 = {
	construction_time = slow_construction_time
	effect_desc = academies_effect_desc

	can_construct_potential = {
		building_requirement_castle_city_church = { LEVEL = 01 }
		building_requirement_tribal = no
	}
	
	can_construct_showing_failures_only = {
		
		culture = {
			has_innovation = innovation_burhs
		}
	}
	
	is_enabled = {
		county.holder = { has_title = prev.duchy }
	}
	show_disabled = yes
	
	cost_gold = expensive_building_tier_3_cost
	
	character_modifier = {
		knight_limit = 2
		knight_effectiveness_mult = 0.25
		army_maintenance_mult = -0.025
		men_at_arms_recruitment_cost = -0.1
		men_at_arms_limit = 1
	}
	
	next_building = military_academy_02
	
	type_icon = "icon_building_military_academy.dds"

	type = duchy_capital
	
	ai_value = {
		base = 20
		modifier = {
			factor = 2
			scope:holder.capital_province = this
		}
		modifier = { # Fill all building slots before going for duchy buildings
			factor = 0
			free_building_slots > 0
		}
		modifier = { # Less likely when the AI should build regular buildings first
			factor = 0.1
			scope:holder = { ai_should_focus_on_building_in_their_capital = yes }
		}
	}
}

military_academy_02 = {
	construction_time = slow_construction_time
	effect_desc = academies_effect_desc

	can_construct_potential = {
		building_requirement_castle_city_church = { LEVEL = 01 }
		building_requirement_tribal = no
	}
	
	can_construct_showing_failures_only = {
		
		culture = {
			has_innovation = innovation_castle_baileys
		}
	}
	
	is_enabled = {
		county.holder = { has_title = prev.duchy }
	}
	show_disabled = yes
	
	cost_gold = expensive_building_tier_4_cost
	
	character_modifier = {
		knight_limit = 4
		knight_effectiveness_mult = 0.5
		army_maintenance_mult = -0.035
		men_at_arms_recruitment_cost = -0.2
		men_at_arms_limit = 2
	}
	
	next_building = military_academy_03
	
	type = duchy_capital
	
	ai_value = {
		base = 20
		modifier = {
			factor = 2
			scope:holder.capital_province = this
		}
	}
}

military_academy_03 = {
	construction_time = slow_construction_time
	effect_desc = academies_effect_desc

	can_construct_potential = {
		building_requirement_castle_city_church = { LEVEL = 01 }
		building_requirement_tribal = no
	}
	
	can_construct_showing_failures_only = {
		
		culture = {
			has_innovation = innovation_royal_armory
		}
	}
	
	is_enabled = {
		county.holder = { has_title = prev.duchy }
	}
	show_disabled = yes
	
	cost_gold = expensive_building_tier_5_cost
	
	character_modifier = {
		knight_limit = 6
		knight_effectiveness_mult = 0.75
		army_maintenance_mult = -0.05
		men_at_arms_recruitment_cost = -0.3
		men_at_arms_limit = 3
	}
	
	type = duchy_capital
	
	flag = fully_upgraded_duchy_capital_building

	ai_value = {
		base = 20
		modifier = {
			factor = 2
			scope:holder.capital_province = this
		}
	}
}
siege_works_01 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		building_requirement_castle_city_church = { LEVEL = 01 }
		building_requirement_tribal = no
	}
	
	can_construct_showing_failures_only = {
		
		culture = {
			has_innovation = innovation_burhs
		}
	}
	
	is_enabled = {
		county.holder = { has_title = prev.duchy }
	}
	show_disabled = yes
	
	cost_gold = expensive_building_tier_3_cost
	
	character_modifier = {
		siege_weapon_recruitment_cost_mult = -0.15
		siege_weapon_maintenance_mult = -0.15
	}
	province_modifier = {
		stationed_siege_weapon_siege_value_mult = very_high_maa_siege_value_tier_1
		stationed_siege_weapon_toughness_add = 5
        epidemic_resistance = ddf_plague_resist_building_special_building_loss_tier_1
	}
	duchy_capital_county_modifier = {
		additional_fort_level = normal_building_fort_level_tier_2
	}
	
	next_building = siege_works_02

	type_icon = "icon_building_siege_works.dds"
	
	type = duchy_capital
	
	ai_value = {
		base = 20
		modifier = {
			factor = 2
			scope:holder.capital_province = this
		}
		culture_likely_to_fortify_modifier = yes
		modifier = { # Fill all building slots before going for duchy buildings
			factor = 0
			free_building_slots > 0
		}
		modifier = { # Less likely when the AI should build regular buildings first
			factor = 0.1
			scope:holder = { ai_should_focus_on_building_in_their_capital = yes }
		}
	}
}

siege_works_02 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		building_requirement_castle_city_church = { LEVEL = 01 }
		building_requirement_tribal = no
	}
	
	can_construct_showing_failures_only = {
		
		culture = {
			has_innovation = innovation_castle_baileys
		}
	}
	
	is_enabled = {
		county.holder = { has_title = prev.duchy }
	}
	show_disabled = yes
	
	cost_gold = expensive_building_tier_4_cost
	
	character_modifier = {
		siege_weapon_recruitment_cost_mult = -0.3
		siege_weapon_maintenance_mult = -0.3
	}
	
	province_modifier = {
		stationed_siege_weapon_siege_value_mult = very_high_maa_siege_value_tier_2
		stationed_siege_weapon_toughness_add = 10
        epidemic_resistance = ddf_plague_resist_building_special_building_loss_tier_2
	}
	duchy_capital_county_modifier = {
		additional_fort_level = normal_building_fort_level_tier_4
	}
	
	next_building = siege_works_03
	
	type = duchy_capital
	
	ai_value = {
		base = 20
		modifier = {
			factor = 2
			scope:holder.capital_province = this
		}
		culture_likely_to_fortify_modifier = yes
	}
}

siege_works_03 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		building_requirement_castle_city_church = { LEVEL = 01 }
		building_requirement_tribal = no
	}
	
	can_construct_showing_failures_only = {
		
		culture = {
			has_innovation = innovation_royal_armory
		}
	}
	
	is_enabled = {
		county.holder = { has_title = prev.duchy }
	}
	show_disabled = yes
	
	cost_gold = expensive_building_tier_5_cost
	
	character_modifier = {
		siege_weapon_recruitment_cost_mult = -0.45
		siege_weapon_maintenance_mult = -0.45
	}
	
	province_modifier = {
		stationed_siege_weapon_siege_value_mult = very_high_maa_siege_value_tier_3
		stationed_siege_weapon_toughness_add = 15
        epidemic_resistance = ddf_plague_resist_building_special_building_loss_tier_3
	}
	duchy_capital_county_modifier = {
		additional_fort_level = normal_building_fort_level_tier_6
	}

	
	type = duchy_capital
	
	flag = fully_upgraded_duchy_capital_building
	
	ai_value = {
		base = 20
		modifier = {
			factor = 2
			scope:holder.capital_province = this
		}
		culture_likely_to_fortify_modifier = yes
	}
}
royal_armory_01 = {
	construction_time = slow_construction_time
	effect_desc = {
		triggered_desc = {
			trigger = { has_dlc_feature = tours_and_tournaments }
			desc = tournament_melee_cost_discount_effect_toto_desc
		}
	}
	can_construct_potential = {
		building_requirement_castle_city_church = { LEVEL = 01 }
		building_requirement_tribal = no
	}
	
	can_construct_showing_failures_only = {
		
		culture = {
			has_innovation = innovation_burhs
		}
	}
	
	is_enabled = {
		county.holder = { has_title = prev.duchy }
	}
	show_disabled = yes
	
	cost_gold = expensive_building_tier_3_cost
	
	duchy_capital_county_modifier = {
		levy_size = 0.2
	}
	
	character_modifier = {
		army_maintenance_mult = -0.025
	}
	
	province_modifier = {
		stationed_maa_damage_mult = normal_maa_damage_tier_1
		stationed_maa_toughness_mult = normal_maa_toughness_tier_1
        epidemic_resistance = ddf_plague_resist_building_special_building_loss_tier_1
	}

	character_culture_modifier = {
		parameter = better_armory_buildings
		prowess = 2
		knight_effectiveness_mult = 0.15
	}

	duchy_capital_county_culture_modifier = {
		parameter = better_armory_buildings
		build_gold_cost = -0.1
		holding_build_gold_cost = -0.1
	}

	province_culture_modifier = {
		parameter = better_armory_buildings
		stationed_maa_damage_mult = normal_maa_damage_tier_1
		stationed_maa_toughness_mult = normal_maa_toughness_tier_1
	}
	
	next_building = royal_armory_02

	type_icon = "icon_building_royal_armory.dds"
	
	type = duchy_capital
	
	ai_value = {
		base = 20
		modifier = {
			factor = 2
			scope:holder.capital_province = this
		}
		modifier = { # Fill all building slots before going for duchy buildings
			factor = 0
			free_building_slots > 0
		}
		modifier = { # Less likely when the AI should build regular buildings first
			factor = 0.1
			scope:holder = { ai_should_focus_on_building_in_their_capital = yes }
		}
	}
}

royal_armory_02 = {
	construction_time = slow_construction_time
	effect_desc = {
		triggered_desc = {
			trigger = { has_dlc_feature = tours_and_tournaments }
			desc = tournament_activity_cost_max_discount_effect_desc
		}
	}

	can_construct_potential = {
		building_requirement_castle_city_church = { LEVEL = 01 }
		building_requirement_tribal = no
	}
	
	can_construct_showing_failures_only = {
		
		culture = {
			has_innovation = innovation_castle_baileys
		}
	}

	character_culture_modifier = {
		parameter = better_armory_buildings
		prowess = 3
		knight_effectiveness_mult = 0.3
	}
	
	is_enabled = {
		county.holder = { has_title = prev.duchy }
	}
	show_disabled = yes
	
	cost_gold = expensive_building_tier_4_cost
	
	duchy_capital_county_modifier = {
		levy_size = 0.3
	}
	
	character_modifier = {
		army_maintenance_mult = -0.05
	}
	
	province_modifier = {
		stationed_maa_damage_mult = normal_maa_damage_tier_2
		stationed_maa_toughness_mult = normal_maa_toughness_tier_2
        epidemic_resistance = ddf_plague_resist_building_special_building_loss_tier_2
	}

	duchy_capital_county_culture_modifier = {
		parameter = better_armory_buildings
		build_gold_cost = -0.15
		holding_build_gold_cost = -0.15
	}

	province_culture_modifier = {
		parameter = better_armory_buildings
		stationed_maa_damage_mult = normal_maa_damage_tier_2
		stationed_maa_toughness_mult = normal_maa_toughness_tier_2
	}
	
	next_building = royal_armory_03
	
	type = duchy_capital
	
	ai_value = {
		base = 20
		modifier = {
			factor = 2
			scope:holder.capital_province = this
		}
	}
}

royal_armory_03 = {
	construction_time = slow_construction_time
	effect_desc = {
		triggered_desc = {
			trigger = { has_dlc_feature = tours_and_tournaments }
			desc = tournament_activity_cost_max_discount_effect_desc
		}
	}
	can_construct_potential = {
		building_requirement_castle_city_church = { LEVEL = 01 }
		building_requirement_tribal = no
	}
	
	can_construct_showing_failures_only = {
		
		culture = {
			has_innovation = innovation_royal_armory
		}
	}

	character_culture_modifier = {
		parameter = better_armory_buildings
		prowess = 4
		knight_effectiveness_mult = 0.45
	}
	
	duchy_capital_county_culture_modifier = {
		parameter = better_armory_buildings
		build_gold_cost = -0.2
		holding_build_gold_cost = -0.2
	}
	
	character_modifier = {
		army_maintenance_mult = -0.1
	}
	
	province_modifier = {
		stationed_maa_damage_mult = normal_maa_damage_tier_3
		stationed_maa_toughness_mult = normal_maa_toughness_tier_3
        epidemic_resistance = ddf_plague_resist_building_special_building_loss_tier_3
	}

	province_culture_modifier = {
		parameter = better_armory_buildings
		stationed_maa_damage_mult = normal_maa_damage_tier_3
		stationed_maa_toughness_mult = normal_maa_toughness_tier_3
	}
	
	is_enabled = {
		county.holder = { has_title = prev.duchy }
	}
	show_disabled = yes
	
	cost_gold = expensive_building_tier_5_cost
	
	duchy_capital_county_modifier = {
		levy_size = 0.4
	}
	
	type = duchy_capital
	
	flag = fully_upgraded_duchy_capital_building
	
	ai_value = {
		base = 20
		modifier = {
			factor = 2
			scope:holder.capital_province = this
		}
	}
}
